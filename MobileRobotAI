// Product of Judah

// // Motor Stuff // //
// LEFT Motor:
int ENL = 9;
int IN1 = 8;
int IN2 = 7;

// RIGHT Motor:
int ENR = 3;
int IN3 = 5;
int IN4 = 4;

// Changing Motor Values
int direction = 0; // 0 is stopped, 1 is forward, 2 is right, 3 is left.

// // IR Sensor Stuff // //
// The Pins
int Right_IR = A0;
int Left_IR = A5;

// The Threshold
int IRThreshold_R = 100; // lower is detecting, higher is not.
int IRThreshold_L = 100; // lower is detecting, higher is not.

void Drive(){
// This turns, drives, and brakes.


  analogWrite(ENL, 255); //0-255 
  analogWrite(ENR, 255); //0-255

  digitalWrite(IN1, LOW);
  digitalWrite(IN2, HIGH);
  
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, HIGH);

}

void stopMotor(bool isDisabled){
//left motor
  digitalWrite(IN1, LOW);
  digitalWrite(IN2, LOW);

//right motor
  digitalWrite(IN3, LOW);
  digitalWrite(IN4, LOW);

//disable motor check
  if(isDisabled){
    digitalWrite(ENL, LOW);
    digitalWrite(ENR, LOW);
  }

  enableMotors(false);
}

void LineFollow(bool right, bool left){
  // Right Motor
  digitalWrite(IN1, LOW);
  if (right){
    digitalWrite(IN2, LOW);
  }else{
    digitalWrite(IN2, HIGH);
  }

  // Left Motor
  digitalWrite(IN3, LOW);
  if (left){
    digitalWrite(IN4, LOW);
  }else{
    digitalWrite(IN4, HIGH);
  }
}

bool ReadIR(bool f4lt4r){
// Returns the reading of either the Right or Left IR sensor.
if (f4lt4r){
  // Right IR
  int rightIRData = analogRead(Right_IR);
  Serial.print("R: ");
  Serial.println(rightIRData);
  if (rightIRData > IRThreshold_R){
    return true;
  }else{
    return false;
  }

}else{
  // Left IR
  int leftIRData = analogRead(Left_IR);
  Serial.print("L: ");
  Serial.println(leftIRData);
  if (leftIRData > IRThreshold_L){
    return true;
  }else{
    return false;
  }
}


Serial.println("You seriously messed up!");
return false;

}

void enableMotors(bool eeeee){

}

void setup(){
  
  pinMode(ENL, OUTPUT);
  pinMode(IN1, OUTPUT);
  pinMode(IN2, OUTPUT);
  
  pinMode(ENR, OUTPUT);
  pinMode(IN3, OUTPUT);
  pinMode(IN4, OUTPUT);
  
  Serial.begin(9600);
  Serial.println("Init!");
  
  
  digitalWrite(ENL, HIGH);
  digitalWrite(ENR, HIGH);

  enableMotors(true);
}

void loop(){
  Drive(); //move forward

  bool right = ReadIR(true);
  bool left = ReadIR(false);

  /*
  while(1){
      stopMotor(true); //stop forever
  }
  */
}
